<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:my="http://xmlns.jcp.org/jsf/composite/mycomponents">

<h:head>
	<meta charset="UTF-8" />
	<title>Serwis informacyjny</title>
</h:head>
<h:body>
	<ui:composition template="/templates/default/main.xhtml">
		<ui:define name="content">
#{reklamaBean.reklamy}
			<div class="container-fluid">
				<div class="row">
					<div class="col-md-12">

						<ui:fragment
							rendered="#{uzytkownikController.poziomDostepu gt '0'}">
							<div class="asdasd">
								#{uzytkownikBean.pobierzUzytkownika}
								<h4>Twoje dane personalne:</h4>
								<div class="panel panel-default">
									<div class="panel-footer">
										Imię:
										<h:outputText
											value="#{uzytkownikBean.uzytkownikPanelPokaz.imie}" />
									</div>

									<div class="panel-footer">
										Nazwisko:
										<h:outputText
											value="#{uzytkownikBean.uzytkownikPanelPokaz.nazwisko}" />
									</div>

									<div class="panel-footer">
										Login:
										<h:outputText
											value="#{uzytkownikBean.uzytkownikPanelPokaz.login}" />
									</div>

								</div>

								<h:form class="form-horizontal">
									<div class="form-group">

										<label class="col-sm-2 control-label"> Nowe imię </label>
										<div class="col-sm-10">
											<h:inputText
												value="#{uzytkownikController.uzytkownikZUpdate.imie}"
												id="imie" />
										</div>
									</div>
									<div class="form-group">

										<label class="col-sm-2 control-label"> Nowe nazwisko </label>
										<div class="col-sm-10">
											<h:inputText
												value="#{uzytkownikController.uzytkownikZUpdate.nazwisko}"
												id="nazwisko" />

										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-2 control-label"> Nowe hasło </label>
										<div class="col-sm-10">
											<h:inputSecret
												value="#{uzytkownikController.uzytkownikZUpdate.haslo}"
												id="haslo" />
										</div>
									</div>
									<div class="form-group">
										<div class="col-sm-offset-2 col-sm-10">
											<h:commandButton action="odczytDaneUpdatePanel"
												value="Zatwierdź"></h:commandButton>
										</div>
									</div>
								</h:form>
							</div>
						</ui:fragment>
						<br></br>

						<ui:fragment
							rendered="#{uzytkownikController.poziomDostepu eq '3'}">
							<div class="asdasd">
								<br>
								<h4>Twoje artykuły:</h4>
								</br>
								<table class="table">
									<thead>
										<tr>
											<th>#</th>
											<th>Tytuł</th>
											<th>Kategoria</th>
											<th>Status</th>
											<th>Data publikacji</th>
										</tr>
									</thead>
									<tbody>
										#{artykulBean.pobierzArtykulAutora}
										<ui:repeat value="#{artykulBean.artykulAutora}"
											var="artykulyAutora">
											<tr class="success">

												<td><h:outputText value="#{artykulyAutora.id}" /></td>
												<td><h:outputText value="#{artykulyAutora.tytul}" /></td>
												<td><h:outputText value="#{artykulyAutora.kategoria}" /></td>
												<td><h:outputText
														value="#{artykulyAutora.status_artykulu}" /></td>
												<td><h:outputText
														value="#{artykulyAutora.data_publikacji}" /></td>
											</tr>
										</ui:repeat>
									</tbody>
								</table>
								<br>
								<h:form>
									<td><h:commandButton
											action="dodajArtykul?faces-redirect=true"
											value="Nowy artykuł"></h:commandButton></td>
								</h:form>
								</br>
							</div>
						</ui:fragment>
						<ui:fragment
							rendered="#{uzytkownikController.poziomDostepu eq '4'}">
							<div class="asdasd">
								<br>
								<h4>Zarządzaj reklamami:</h4>
								</br>
								<table class="table">
									<thead>
										<tr>
											<th>Dostawca</th>
											<th>Link</th>
											<th>Koszt/tydzień</th>
											<th>Data ustawienia</th>
										</tr>
									</thead>
									#{reklamaBean.reklamy}
									<tbody>
										<tr class="active">
											<td><h:outputText value="#{reklamy.dostawca}" /></td>
											<td><h:outputText value="#{reklamy.link}" /></td>
											<td><h:outputText value="#{reklamy.koszt}" /> zł</td>
											<td><h:outputText value="#{reklamy.data_dodania}" /></td>
											<td><h:commandButton
													action="#{nawigacjaController.processEdycjaArtykulu}"
													value="Edytuj"></h:commandButton></td>
										</tr>

									</tbody>
								</table>
							</div>
						</ui:fragment>

					</div>
				</div>
			</div>
		</ui:define>
	</ui:composition>

</h:body>
</html>